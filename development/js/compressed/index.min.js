class LoadingBarManager{constructor(){this.options={targetEl:"body",loadingElID:"loading-bar",message:"Loading..."},this.reset()}reset(){$("#"+this.options.loadingElID).length||$(this.options.targetEl).append('<div id="'+this.options.loadingElID+'">'+this.options.message+"</div>"),this.showLoading()}hideLoading(){$("#"+this.options.loadingElID).fadeOut()}showLoading(){$("#"+this.options.loadingElID).fadeIn()}}class FiltersModel{constructor(){this.filter_types={date_range_controller:{name:"dateRangeController",names:["start_date","end_date"],library:"NFLArrest",description:"The NFL Date Range Controller Module, contains two values",default_val:["2000-01-01",moment().format("YYYY-MM-DD")],getValue:function(t,e){var i=[];return i.push(t.DateRangeFilterInstance.start_date),i.push(t.DateRangeFilterInstance.end_date),i},isActive:function(t,e){var i=t.DateRangeFilterInstance.start_date!=e.type.default_val[0],t=t.DateRangeFilterInstance.end_date!=e.type.default_val[1];return i||t},compare:function(t,e,i){return new Date(i)>=new Date(t.DateRangeFilterInstance.start_date)&&new Date(i)<=new Date(t.DateRangeFilterInstance.end_date)}},select:{name:"select",library:"Chosen",description:"multi select field for filters, contains an array of values",default_val:"all",getValue:function(t,e){return $(e.element).val()},isActive:function(t,e){return!e.isHidden&&("all"!=e.type.default_val||$(e.element).val().length!=$(e.element+" option").length)},compare:function(t,e,i){return 0<$(e.element).val().indexOf(i)}},checkbox_group:{name:"checkbox-group",library:"JQuery-UI",description:"a group of binary options",default_val:"all",getValue:function(t,e){for(var i={},a=e.element.split(", "),s=0;s<a.length;s++)0<$(a[s]+":checked").length?i[a[s].substring(1)]=!0:i[a[s].substring(1)]=!1;return i},isActive:function(t,e){if(!e.isHidden&&"all"==e.type.default_val){for(var i=e.element.split(", "),e=i.length,a=0,s=0;s<i.length;s++)0<$(i[s]+":checked").length&&a++;if(a<e)return!0}return!1},compare:function(t,e,i,a){return $(e.element).map(function(t,e){$(e).prop("checked")||0}),i===a}},radio_group:{name:"radio-group",library:"JQuery-UI",description:"a group of discrete options",default_val:"all",getValue:function(t,e){for(var i={},a=e.element.split(", "),s=0;s<a.length;s++)0<$(a[s]+":checked").length?i[a[s].substring(1)]=!0:i[a[s].substring(1)]=!1;return i},isActive:function(t,e){if(!e.isHidden&&"all"==e.type.default_val){for(var i=e.element.split(", "),e=i.length,a=0,s=0;s<i.length;s++)0<$(i[s]+":checked").length&&a++;if(a<e)return!0}return!1},compare:function(t,e,i){var a=!1;return $(e.element).map(function(t,e){$(e).prop("checked")&&(a=$(e).attr("id")==i)}),a}},checkbox:{name:"checkbox",library:"JQuery-UI",description:"a single binary option",default_val:!1,getValue:function(t,e){return $(e.element).prop("checked")},isActive:function(t,e){return $(e.element).prop("checked")!=e.type.default_val},compare:function(t,e,i){return $(e.element).prop("checked")===i}}},this.filter_items={daterange:{element:"#filter-daterange-input",type:this.filter_types.date_range_controller,title:"Date Range",name:["start_date","end_date"],isHidden:!1},month:{element:"#filter-month-input",type:this.filter_types.select,title:"Month",filter_data_options:DATA_MODEL_FRAMEWORK_MONTHS_VALUES_ARRAY,name:"month[]",isHidden:!0},dayofweek:{element:"#filter-dayofweek-input-mon, #filter-dayofweek-input-tues, #filter-dayofweek-input-wed, #filter-dayofweek-input-thur, #filter-dayofweek-input-fri, #filter-dayofweek-input-sat, #filter-dayofweek-input-sun",type:this.filter_types.checkbox_group,title:"Day Of Week",filter_data_options:DATA_MODEL_FRAMEWORK_DAY_OF_WEEK_VALUES_ARRAY,name:"dayofweek",isHidden:!0},yeartodate:{element:"#filter-yeartodate-input",type:this.filter_types.radio_group,title:"Year To Date",filter_data_options:DATA_MODEL_FRAMEWORK_NULLABLE_BOOLEAN_VALUES_ARRAY,name:"yeartodate",isHidden:!0},season:{element:"#filter-season-input",type:this.filter_types.select,title:"Season",filter_data_options:DATA_MODEL_VWARRESTSWEB_SEASON_VALUES_ARRAY,name:"season[]",isHidden:!0},season_status:{element:"#filter-season_status-in_season-input, #filter-season_status-off_season-input",type:this.filter_types.checkbox_group,title:"Season Status",filter_data_options:DATA_MODEL_VWARRESTSWEB_ARRESTSEASONSTATE_VALUES_ARRAY,name:"season_status",isHidden:!1},conference:{element:"#filter-Conference-AFC-input, #filter-Conference-NFC-input",type:this.filter_types.checkbox_group,title:"Conference",filter_data_options:DATA_MODEL_VWARRESTSWEB_TEAM_CONFERENCE_VALUES_ARRAY,name:"conference",isHidden:!0},division:{element:"#filter-division-input",type:this.filter_types.select,title:"Division",filter_data_options:DATA_MODEL_VWARRESTSWEB_TEAM_CONFERENCE_DIVISION_VALUES_ARRAY,name:"division[]",isHidden:!1},team:{element:"#filter-team-input",type:this.filter_types.select,title:"Team",filter_data_options_parent_name:"division[]",filter_data_options:DATA_MODEL_VWARRESTSWEB_TEAM_VALUES_ARRAY,name:"team[]",isHidden:!1},crimeCategory:{element:"#filter-crime_category-input",type:this.filter_types.select,title:"Crime Category",filter_data_options:DATA_MODEL_VWARRESTSWEB_CRIME_CATEGORY_VALUES_ARRAY,name:"crime_category[]",isHidden:!1},crime:{element:"#filter-crime-input",type:this.filter_types.select,title:"Crime",filter_data_options:DATA_MODEL_VWARRESTSWEB_CATEGORY_VALUES_ARRAY,name:"crime[]",isHidden:!0},position:{element:"#filter-position-input",type:this.filter_types.select,title:"Position",filter_data_options_parent_name:"position_type",filter_data_options:DATA_MODEL_VWARRESTSWEB_POSITION_VALUES_ARRAY,name:"position[]",isHidden:!1},position_type:{element:"#filter-position_type-offense-input, #filter-position_type-defense-input, #filter-position_type-special_teams-input",type:this.filter_types.checkbox_group,title:"Position Type",filter_data_options:DATA_MODEL_VWARRESTSWEB_POSITION_TYPE_VALUES_ARRAY,name:"position_type",isHidden:!1},player:{element:"#filter-player-input",type:this.filter_types.select,title:"Player",filter_data_options:DATA_MODEL_VWARRESTSWEB_POSITION_TYPE_VALUES_ARRAY,name:"player[]",isHidden:!0}},this.filter_sections={date:{title:"Date Filters",element:"#filter-date-section",items:[this.filter_items.daterange,this.filter_items.month,this.filter_items.dayofweek,this.filter_items.yeartodate],isHidden:!0},season:{title:"Season Filters",element:"#filter-season-section",items:[this.filter_items.season,this.filter_items.season_status],isHidden:!1},team:{title:"Team Filters",element:"#filter-team-section",items:[this.filter_items.division,this.filter_items.team,this.filter_items.conference],isHidden:!1},crime:{title:"Crime Filters",element:"#filter-crime-section",items:[this.filter_items.crimeCategory,this.filter_items.crime],isHidden:!1},position:{title:"Position Filters",element:"#filter-position-section",items:[this.filter_items.position_type,this.filter_items.position],isHidden:!1},player:{title:"Player Filters",element:"#filter-player-section",items:[this.filter_items.player],isHidden:!0}}}}class Module{constructor(t,e,i,a){this.moduleID=void 0,this.parent=void 0,this.data=void 0,this.options=void 0,this.setModuleID(t),this.setParent(e),this.setData(i),this.setOptions(a)}renderView(){console.warn("Default Module renderView Function called.")}setModuleID(t){this.moduleID=t}getModuleID(){return this.moduleID}setParent(t){this.parent=t}getParent(){return this.parent}setData(t){this.validateDataFormat(t)?this.data=t:console.error("Invalid Data Format -- "+this.getModuleID())}getData(){return this.data}setOptions(t){this.options=t}setOption(t,e){this.options[t]=e}getOptions(){return this.options}getOption(t,e){t=this.options[t];return t=e?t[e]:t}getOptionExists(t){return this.getOptions().hasOwnProperty(t)}validateDataFormat(t){return!!t}getHTML(){return"\x3c!-- NO HTML Defined for Module: "+this.getModuleID()+" --\x3e"}getCSSIncludes(){return"\x3c!-- NO CSS Includes Defined for Module: "+this.getModuleID()+" --\x3e"}getJSIncludes(){return"\x3c!-- NO JS Includes Defined for Module: "+this.getModuleID()+" --\x3e"}}class DataTable extends Module{constructor(t,e,i){super("DataTable",t,e,i||{targetElement:"arrest_table",targetElementMobile:"arrest_cards",targetElementTableContainer:"arrest_details_container",targetElementTitleIncidentCount:"arrest_details_incident_count",TitlePrefix:"",RowLimit:15,GoogleTrackingCategory:"DetailPageArrests"}),this.renderRowFn=void 0,this.renderRowHeaderFn=void 0,this.renderCardFn=void 0,this.displayDataFilterFn=void 0,this.displayPaginationTemplateFn=void 0,this.displayDataCallbackFn=void 0,this.setupDefaultFunctions(),this.setOption("afterInit",!1),this.getOptionExists("renderRowHeaderFn")&&this.setRenderRowHeaderFn(this.getOption("renderRowHeaderFn")),this.getOptionExists("renderRowFn")&&this.setRenderRowFn(this.getOption("renderRowFn")),this.getOptionExists("renderCardFn")&&this.setRenderCardFn(this.getOption("renderCardFn")),this.view_mobile=!!this.parent.Utilities.mobileCheck(),this.DataTableColumns=void 0,this.getOptionExists("columns")&&(this.DataTableColumns=new DataTableColumns(this,this.getOption("columns"),{columns:this.getOption("columns")})),this.renderView()}setupDefaultFunctions(){var n=this;this.defaultFunctions={},this.defaultFunctions.displayDataFilterFn=t=>{if("Team"==n.parent.pageTitle){if(t.Team!=n.parent.pageID)return!1}else if("Position"==n.parent.pageTitle){if(t.Position!=n.parent.pageID)return!1}else if("Player"==n.parent.pageTitle){if(t.Name!=n.parent.pageID)return!1}else if("Crime"==n.parent.pageTitle){if(t.Category!=n.parent.pageID)return!1}else if("Crime Category"==n.parent.pageTitle&&t.Crime_category!=n.parent.pageID)return!1;return!0},this.defaultFunctions.displayPaginationTemplateFn=(t,e)=>{var i,a=[];for(i in n.view_mobile||a.push(n.renderRowHeader()),t){var s=t[i],s=n.getData()[s];n.view_mobile?a.push(n.renderCard(s)):a.push(n.renderRow(s))}(n.view_mobile?$("#"+n.getOption("targetElementMobile")):$("#"+n.getOption("targetElement"))).html(a.join(""))},this.defaultFunctions.displayDataCallbackFn=t=>{n.setupContainerElements(t),n.parent.checkLoadingFinished()}}setupContainerTitle(t){var e=this.getOption("targetElementTableContainer")||"arrest_details_container",i=this.getOption("targetElementTitleIncidentCount")||"arrest_details_incident_count",a=this.getOption("TitlePrefix")||"";$("#"+e).html('<h4 id="'+i+'" style="text-align:left;"># Incidents:</h4>'),$("#"+i).html(a+t.length+" Incidents:")}setupContainerElements(t){var e=this.getOption("targetElementTitleIncidentCount")||"arrest_details_incident_count";(this.view_mobile?($("#"+e).after('<div id="'+this.getOption("targetElementMobile")+'"></div>'),$("#"+this.getOption("targetElementMobile"))):($("#"+e).after('<table id="'+this.getOption("targetElement")+'"></table>'),$("#"+this.getOption("targetElement")))).after('<div id="pagination-control"></div>')}setupPagination(t){$("#pagination-control").pagination({dataSource:Array.from(this.getData().keys()),callback:this.displayPaginationTemplateFn||this.defaultFunctions.displayPaginationTemplateFn,afterPreviousOnClick:()=>{this.parent.Utilities.googleTracking.sendTrackEvent(this.getOption("GoogleTrackingCategory"),"Change Page : Previous Button")},afterPageOnClick:()=>{this.parent.Utilities.googleTracking.sendTrackEvent(this.getOption("GoogleTrackingCategory"),"Change Page : Page Button")},afterNextOnClick:()=>{this.parent.Utilities.googleTracking.sendTrackEvent(this.getOption("GoogleTrackingCategory"),"Change Page : Next Button")},afterGoInputOnEnter:()=>{this.parent.Utilities.googleTracking.sendTrackEvent(this.getOption("GoogleTrackingCategory"),"Change Page : Go Input On Enter")},afterGoInputOnClick:()=>{this.parent.Utilities.googleTracking.sendTrackEvent(this.getOption("GoogleTrackingCategory"),"Change Page : Go Input On Click")},afterInit:()=>{this.setOption("afterInit",!0)},autoHidePrevious:!0,autoHideNext:!0,showNavigator:!0,className:"paginationjs-theme-yellow paginationjs-big",pageSize:this.view_mobile?5:this.getOption("RowLimit"),pageRange:this.view_mobile?1:2})}validateDataFormat(t){return!0}sortData(i,a){this.data.sort(function(t,e){return a?t[i]>e[i]:t[i]<e[i]})}renderView(){var e=this,t=e.displayDataFilterFn||e.defaultFunctions.displayDataFilterFn;e.displayPaginationTemplateFn||e.defaultFunctions.displayPaginationTemplateFn;e.parent.data_controller.getArrests(t,t=>{e.setData(t),e.setupContainerTitle(t);(e.displayDataCallbackFn||e.defaultFunctions.displayDataCallbackFn)(t),e.setupPagination(t)})}renderCard(t){return this.renderCardFn?this.renderCardFn(t):new ArrestCard(this.parent,t).getHTML()}renderRowHeader(){return this.renderRowHeaderFn?this.renderRowHeaderFn():this.DataTableColumns?this.DataTableColumns.renderRowColumns("header"):'<tr><th class="one column">Date:</th><th class="one column">Team:</th><th class="two columns">Player:</th><th class="one column">Crime:</th><th class="four columns">Description:</th><th class="three columns">Outcome:</th></tr>'}renderRow(t){var e;return this.renderRowFn?this.renderRowFn(t):this.DataTableColumns?this.DataTableColumns.renderRowColumns(t):(e="<tr>",(e=(e=(e=(e=(e+='<td class="one column" '+this.parent.getHTMLDateTitleAttribute(t)+">"+moment(t.Date,"YYYY-MM-DD").fromNow()+"</td>")+'<td class="one column">'+t.Team+"</td>")+'<td class="two columns"><a href="Player.html#'+t.Name+'">'+t.Name+"</a></td>")+'<td class="one column"><a href="CrimeCategory.html#'+t.Crime_category+'">'+t.Crime_category+"</a></td>")+'<td class="four columns">'+t.Description+"</td>")+'<td class="three columns">'+t.Outcome+"</td></tr>")}setDataFilterFn(t){this.displayDataFilterFn=t}setRenderRowHeaderFn(t){this.renderRowHeaderFn=t}setRenderRowFn(t){this.renderRowFn=t}setRenderCardFn(t){this.renderCardFn=t}setDataCallbackFn(t){this.displayDataCallbackFn=t}setColumns(t){(this.getOptionExists("columns")||t)&&(t=t||this.getOption("columns"),this.DataTableColumns=new DataTableColumns(this,t,{columns:t}))}}class DataTableColumns extends Module{constructor(t,e,i){super("DataTableColumn",t,e,i||{columns:[{column_id:0,column_title:"Column Name",column_data:"col",column_classes:"",column_width:2}]})}convertIntToWord(t){var e="zero one two three four five six seven eight nine ten eleven twelve".split(" ");return t<=12&&0<t?e[t]:e[1]}renderColumnAttributes(t){return this.renderColumnAttributeClass(t)}renderColumnAttributeClass(t){var e,i="";return(t.hasOwnProperty("column_width")||t.hasOwnProperty("column_classes"))&&(i+=' class="',t.hasOwnProperty("column_width")&&0<(e=parseInt(t.column_width))&&e<=12?(i=i+this.convertIntToWord(e)+" column",1<e&&(i+="s")):i+="one column",t.hasOwnProperty("column_classes")&&(i+=" "+t.column_classes),i+='"'),i}renderRowColumns(t){for(var e=!("header"==t||t==["header"]||t=={header:!0}),i=e?"td":"th",a=this.getOption("columns"),s="<tr>",n=0;n<a.length;n++)var r=a[n],s=(s+="<"+i+this.renderColumnAttributes(r)+">")+(e?r.hasOwnProperty("column_display_fn")?r.column_display_fn(t):t[r.column_data]:r.column_title)+("</"+i+">");return s+="</tr>"}}class ArrestCard extends Module{constructor(t,e,i){super("ArrestCard",t,e,i||{showName:!1,momentDate:!1,standalone:!1}),this.options.momentDate=99<this.getData().DaysSince,this.dimensions={},this.addDimensions()}validateDataFormat(t){if(t.hasOwnProperty("Team_preffered_name"))return!0;throw"error: incorrect row definition"}addDimensions(){this.dimensions.Team={dimension_id:0,dimension_name:"Team",data_column:"Team",color:"Team_hex_color",url:"Team.html",display:"Team_preffered_name",color2:"Team_hex_alt_color",useColor2:!0},this.dimensions.Player={dimension_id:2,dimension_name:"Player",data_column:"Name",color:"Team_hex_color",url:"Player.html",display:"Name",color2:"Team_hex_alt_color",useColor2:!0},this.dimensions.Position={dimension_id:3,dimension_name:"Position",data_column:"Position",color:"Team_hex_color",url:"Position.html",display:"Position_name",color2:"Team_hex_alt_color",useColor2:!0},this.dimensions.Crime={dimension_id:1,dimension_name:"Crime",data_column:"Category",color:"Crime_category_color",url:"Crime.html",display:"Category"},this.dimensions.CrimeCategory={dimension_id:4,dimension_name:"Crime Category",data_column:"Crime_category",color:"Crime_category_color",url:"CrimeCategory.html",display:"Crime_category"},this.Dimension_Team=this.dimensions.Team,this.Dimension_Player=this.dimensions.Player,this.Dimension_Position=this.dimensions.Position,this.Dimension_Crime=this.dimensions.Crime,this.Dimension_Crime_Category=this.dimensions.CrimeCategory}getHTML(t,e,i,a){var t=t||this.dimensions.Crime,e=e||this.dimensions.Team,a=a||{},i=i||{},s=this.getData(),n=this.options.showName?' style="display:inline-block; visibility:visible;"':"",r=this.options.momentDate?moment(s.Date,"YYYY-MM-DD").fromNow():s.DaysSince+" days ago",o=e.useColor2?'style="color:#'+s[e.color2]+';"':"",l=this.options.standalone?" standalone_card":"",d='<a href="'+i.url+"#"+s[i.data_column]+'">'+s[i.display]+"</a>",l=['<div class="card arrest_card '+l+'">'];return l.push('<span class="date_item" title="'+s.Date+'">'+r+"</span>"),0<i.hasOwnProperty("data_column")&&l.push('<span class="bottom_right_item">'+d+"</span>"),l.push('<span class="name_item"'+n+'><a href="Player.html#'+s.Name+'">'+s.Name+"</a> </span>"),l.push("<br />"),l.push('<span class="crime_item" style="background-color:#'+s[t.color]+'">'),l.push('<a href="'+t.url+"#"+s[t.data_column]+'">'+s[t.display]+"</a> </span>"),l.push('<span class="team_item '+s[e.data_column]+'" style="background-color:#'+s[e.color]+';">'),l.push('<a href="'+e.url+"#"+s[e.data_column]+'" '+o+" >"+s[e.display]+"</a></span>"),a.hasOwnProperty("data_column")&&l.push('<br /><span class="arrest_card_detail_links">'+a.dimension_name+': <a href="'+a.url+"#"+s[a.data_column]+'">'+s[a.data_column]+"</a></span>"),l.push("<br />"),l.push('<span class="description_item">'+s.Description+"</span>"),l.push('<span class="outcome_item">'+s.Outcome+"</span>"),l.push("</div>"),l.join("")}}class DataFilter extends Module{constructor(t,e){super("filters-control-filter",t,[],e)}setOptions(t){this.options=t||{},this.options.element=t.element||"#filter-untitled-input",this.options.type=t.type||{name:"undefined"},this.options.name=t.name||"untitledInput",this.options.required=t.required||!1,this.options.multiple_select_enabled=t.multiple_select_enabled||!0}getHTML(){var t='class="filter-section-item"';return this.getOption("isHidden")&&(t+=' style="display:none;"'),`<div ${t}>
                    <span>${this.getOptions().title}</span>
                    <div class="control-group">
                        ${this.getControlGroupHTML()}
                    </div>
                </div>`}renderView(){"select"===filter_type.name&&console.log($(this.options.element).val().length)}getControlGroupHTML(){var t=this.getOption("type")||{},e=(this.getOption("filter_data_options"),this.getOption("InputPlaceHolder"),this.getOption("element")||"filters-UndefinedElement-input"),e=(this.util_removeHashChar(e),"");return e+=this.getIncludeButtonHTML(),"dateRangeController"===t.name?e+=this.getFilterDateRangeHTML():"select"===t.name?e+=this.getFilterSelect():"checkbox-group"===t.name?e+=this.getCheckBoxGroupHTML():"radio-group"===t.name?e+=this.getRadioGroupHTML():"checkbox"===t.name&&(e+=this.getCheckBoxSingleHTML()),e}getFilterSelect(){for(var t=this.getOption("filter_data_options")||[],e=(this.getOption("type"),this.getOption("InputPlaceHolder")||"Choose..."),i=this.getOption("element")||"filters-UndefinedElement-input",i=this.util_removeHashChar(i),a="<select ",s=(this.getOption("multiple_select_enabled")&&(a+='multiple class="filter-chosen-multi" '),a+=`data-placeholder="${e}" id="${i}">`,void 0),n=0;n<t.length;n++){t[n].hasOwnProperty("COLUMN_PARENT_VALUE")&&s!==t[n].COLUMN_PARENT_VALUE&&(void 0!==s&&(a+="</optgroup>"),a+='<optgroup label="'+(s=t[n].COLUMN_PARENT_VALUE)+'">');var r=this.getSelectOptionHTML(t[n]);a+=r,-1<r.indexOf("SELECTED")&&0}t.length;return a+="</select>"}getInputGroupHTML(t){var e=this.getOption("filter_data_options")||[],i='<div class="filter-radio-group"><fieldset>';if(i+=`<legend>${this.getOption("title")}:</legend>`,0<e.length)for(var a=0;a<e.length;a++)i+=t(e[a]);else i+="<span><b>Error:</b> No filter_data parameter values exist.</span>";return i+="</fieldset></div>"}getCheckBoxGroupHTML(){return this.getInputGroupHTML(t=>this.getCheckBoxHTML(t))}getRadioGroupHTML(){return this.getInputGroupHTML(t=>this.getRadioHTML(t))}getCheckBoxSingleHTML(){var t=this.getOption("filter_data_options")||[],e='<div class="filter-single-checkbox">';return 1<=t.length?(e+=this.getCheckBoxHTML(t[0]),1<t.length&&console.log("More than 1 filter_data parameter values exist. Do you want to use a CheckBoxGroup?")):e+="<span><b>Error:</b> No filter_data parameter values exist.</span>",e+="</div>"}getFilterDateRangeHTML(){var t=this.getOption("element")||"filters-UndefinedElement-input";return`<div class=" dateRangeControl">
            <span class="title">Date Range:</span>
            <button id="${this.util_removeHashChar(t)}" name="dateRangeJquery"></button>
        </div>`}getSelectOptionHTML(t){var e="SELECTED";return t.hasOwnProperty("isSelected")&&!t.isSelected&&(e=""),`<option value="${t.COLUMN_VALUE}" ${e}>
                            ${t.COLUMN_DISPLAY_VALUE}
                        </option>`}getCheckBoxHTML(t){(t=t||{element:"filter-UntitledCheckbox-input",title:"Untitled Checkbox"}).element=t.element||"filter-UntitledCheckbox-input",t.title=t.title||"Untitled Checkbox";var e="checked",i=(!t.hasOwnProperty("isSelected")||t.isSelected||(e=""),t.element=this.util_removeHashChar(t.element),new String(t.COLUMN_VALUE).replaceAll(" ","_").toLowerCase()),a="filter-"+this.getOption("name")+"-"+i+"-input",i=this.getOption("name")+i;return`<label for="${a}">${t.COLUMN_DISPLAY_VALUE}</label>
                <input type="checkbox" name="${i}" id="${a}" ${e}>`}getRadioHTML(t){return(t=t||{element:"filter-UntitledRadio-input",title:"Untitled Radio"}).element=t.element||"filter-UntitledRadio-input",t.title=t.title||"Untitled Radio",t.element=this.util_removeHashChar(t.element),`<label for="${this.getOption("name")+t.COLUMN_VALUE}">${t.COLUMN_DISPLAY_VALUE}</label>
                <input type="radio" name="${this.getOption("name")}" id="${this.getOption("name")+t.COLUMN_VALUE}">`}getIncludeButtonHTML(){return""}util_removeHashChar(t){return"#"===t.charAt(0)?t.substring(1):t}}class FiltersControl extends DialogModuleContainer{constructor(t,e,i){super("filters-control",t,e,i),this.parent.StyleManager.loadCSS("css/modules/styles-filters.css"),this.filters_model=new FiltersModel,this.addSubModule(new DialogWindowColumn(this,[],{element:"filter-attribute-column",wordColumnWidth:"six",sections:[this.filters_model.filter_sections.team,this.filters_model.filter_sections.crime]})),this.addSubModule(new DialogWindowColumn(this,[],{element:"filter-time-period-column",wordColumnWidth:"six",sections:[this.filters_model.filter_sections.date,this.filters_model.filter_sections.season,this.filters_model.filter_sections.position]})),this.DateRangeFilterInstance=this.parent.DateRangeControl,this.first_open=!0,this.setupEvents(),this.hide()}show(){super.show(),this.first_open&&(this.loadDialogContents(),this.first_open=!1)}loadDialogContents(){var t=this.getOption("dialog_element_container");"#"===t.charAt(0)&&(t=t.substring(1)),0===$("#"+t).length&&$("body").append(`<div id="${t}"></div>`),$("#"+t).html(this.getHTML()),this.renderView(),this.setupView()}setOptions(t){super.setOptions(t),this.options.hidden_panels=t.hidden_panels||[],this.options.presets=t.presets||{},this.options.date_range_object=t.date_range_object||{}}renderDataFilterOptions(){}renderView(){for(var t in this.countActiveFilters(),this.options.hidden_panels){var e=this.options.hidden_panels[t];switch(e){case"team":case"crime":case"position":case"player":$(this.filters_model.filter_sections[e].element).hide()}}this.renderActiveFilters()}getHTML(){return this.getFiltersHTML()}getFiltersHTML(){return`<div id="filter-dialog">
                    ${`<div class="row">
                            <div class="ten columns">
                                <h4>${this.getOption("filterTitle")||"Data Filters"}</h4>
                            </div>
                            <button id="filters-close-button" class="one columns">X</button>
                        </div>`}
                    <div class="row">
                        ${this.getSubModulesHTML()}
                    </div>
                    <div class="row">
                                    <div class="twelve columns" id="filters-button-row">
                                        <button id="filters-apply-button" class="button-primary">Apply</button>
                                        <button id="filters-clear-button">Clear</button>
                                        <button id="filters-cancel-button">Cancel</button>
                                    </div>
                                </div>
                </div>`}setupView(){var i=this;this.setupUIEvents(),this.setupFilterInput(function(t,e){i.onFilterChanged(i,t,e)})}setupEvents(){var e=this;$("#filters-open-button").click(()=>{e.show()}),$("#filter-dialog-container").click(t=>{"filter-dialog-container"==t.target.id&&e.hide()})}setupFilterPresets(){for(var t in this.options.presets){var e,i=this.options.presets[t];for(e in i){i[e];switch(e){case"team":case"crime":case"position":case"player":this.options.hidden_panels.push(e)}}}}setupFilterInput(t){$(".filter-chosen-multi").multiSelect().change(t),$(".filter-radio-group input").checkboxradio({icon:!1}).change(t),$("#dateRangeJquery").on("dateRangeChanged",t)}setupFilterTypeButton(){$(".filter-type-btn").click(function(){$(this).removeClass("filter-include filter-exclude"),"Exclude"===$(this).html()?($(this).html("Include"),$(this).addClass("filter-include")):($(this).html("Exclude"),$(this).addClass("filter-exclude"))})}setupUIEvents(){var t=this;$(".filter-section-title").click(function(){$(this).parent().children().eq(1).toggle()}),$("#filters-close-button").click(function(){$(t.options.dialog_element).trigger("FilterDialogClosed"),t.hide()}),$("#filters-apply-button").click(function(){t.apply(),$(t.options.dialog_element).trigger("FilterDialogChanged"),$(window).trigger("hashchange"),t.hide()}),$("#filters-clear-button").click(function(){t.reset(),$(t.options.dialog_element).trigger("FilterDialogReset")}),$("#filters-cancel-button").click(function(){t.hide()})}apply(){var t,e=this.getFilterValues();for(t in e)for(var i in e[t])console.log(i,e[t][i])}reset(){for(var t in this.filters_model.filter_sections)if(this.filters_model.filter_sections.hasOwnProperty(t)){var e,i=this.filters_model.filter_sections[t].items;for(e in i)if(i.hasOwnProperty(e)){var a=i[e];if(Array.isArray(a.type.default_val)&&a.type.hasOwnProperty("names")){var s,n=0;for(s in a.type.default_val)setCookieValue(a.type.names[n],a.type.default_val[n++])}else setCookieValue(e,a.type.default_val)}}this.loadDialogContents()}onFilterChanged(t,e,i){var e=e.currentTarget.getAttribute("id"),a=e.substring(e.indexOf("-")+1,e.length),s=a.substring(0,a.lastIndexOf("-")),n=$("#"+e).val(),r=$("#"+e).prop("checked");console.log("DataFilterControlModule: onFilterChanged: button_id: "+e+" button_id_end: "+a+" button_id_name: "+s+" button_value: "+n+" button_isChecked: "+r),t.renderView()}renderActiveFilters(){$("#filter-daterange-input").html(this.DateRangeFilterInstance.getStart()+"-"+this.DateRangeFilterInstance.getEnd()),$("#filter-date-section .filter-section-title span").html(this.filters_model.filter_sections.date.active_count+"/"+this.filters_model.filter_sections.date.total_non_hidden_items_count),$("#filter-season-section .filter-section-title span").html(this.filters_model.filter_sections.season.active_count+"/"+this.filters_model.filter_sections.season.total_non_hidden_items_count),$("#filter-team-section .filter-section-title span").html(this.filters_model.filter_sections.team.active_count+"/"+this.filters_model.filter_sections.team.total_non_hidden_items_count),$("#filter-crime-section .filter-section-title span").html(this.filters_model.filter_sections.crime.active_count+"/"+this.filters_model.filter_sections.crime.total_non_hidden_items_count),$("#filter-position-section .filter-section-title span").html(this.filters_model.filter_sections.position.active_count+"/"+this.filters_model.filter_sections.position.total_non_hidden_items_count)}countActiveFilters(){for(var t in this.filters_model.filter_sections)if(this.filters_model.filter_sections.hasOwnProperty(t)){var e,i,a=this.filters_model.filter_sections[t];for(e in a.active_count=0,a.total_non_hidden_items_count=0,a.items)a.items.hasOwnProperty(e)&&((i=a.items[e]).isHidden||(a.total_non_hidden_items_count++,i.type.isActive(this,i)&&a.active_count++))}}getFilterValues(){var t,e={};for(t in this.filters_model.filter_sections)if(this.filters_model.filter_sections.hasOwnProperty(t)){var i,a=this.filters_model.filter_sections[t];for(i in a.items){var s=a.items[i];if(s.hasOwnProperty("type")){var n=s.type.getValue(this,s);if(s.type.isActive(this,s))if(e.hasOwnProperty(t)||(e[t]={}),Array.isArray(n)&&s.type.hasOwnProperty("names")&&Array.isArray(s.type)&&n.length<=s.type.length){var r,o=0;for(r in n)e[t][s.type.names[o]]=n[r],o++}else s.hasOwnProperty("name")&&(e[t][s.name]=n)}}}return e}getFilterFunction(){return t=>{}}getQueryString(){var t,e=this.getFilterValues(),i=[];for(t in e=Object.assign(e,this.options.presets))for(var a in e[t])if(Array.isArray(e[t][a]))for(var s in e[t][a])i.push(a+"="+e[t][a][s]);else i.push(a+"="+e[t][a]);return i.join("&")}}var lastUpdate="12/9/2023, 11:37:13 AM",lastVersion="2.28.7";class DataController{constructor(t,e){this.DateRangeControl=t,this.parent=e,this.data=this.ConvertArrayToObjects(ArrestsCacheTableArr),this.PreProcessData()}ConvertArrayToObjects(t){for(var e=[],i=0;i<t.length;i++)e.push(this.ConvertArrayToObject(t[i]));return e}ConvertArrayToObject(t){var e={},i=DATA_MODEL_COLUMNS.map(t=>t.COLUMN_NAME);if(i.length>=t.length)for(var a=0;a<t.length;a++)e[i[a]]=t[a];return e}PreProcessData(){this.PreProcessData_DaysSince(),this.PreProcessData_YearToDate(),this.PreProcessData_SortOrder()}PreProcessData_DaysSince(){this.forEach((t,e)=>{this.data[e].DaysSince=function(t,e){t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((e-t)/864e5)}(new Date(t.Date),new Date)})}PreProcessData_YearToDate(){this.forEach((t,e)=>{var i=function(t,e){t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((e-t)/864e5)}(new Date((new Date).getFullYear(),0,1),new Date);this.data[e].YearToDateStatus=i>t.YearToDate?"Year To Date":"Future Period"})}PreProcessData_SortOrder(){this.data.sort(function(t,e){return t.DaysSince<e.DaysSince?1:t.DaysSince>e.DaysSince?-1:0})}forEach(t,e,i){e=e||function(){},i=i||!0;for(var a=this.data.length-1;0<=a;a--){var s=this.data[a];(!i||this.dateLimit(s,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd()))&&t(s,a)}e()}incrementMap(t,e){return t.hasOwnProperty(e)?t[e]=t[e]+1:t[e]=1,t}dateLimit(t,e,i){return e=e||this.start_date,i=i||this.end_date,new Date(t.Date)>=new Date(e)&&new Date(t.Date)<=new Date(i)}getMostRecentArrest(t){var e,i=999999999;this.forEach(t=>{this.dateLimit(t,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())&&t.DaysSince<i&&(i=(e=t).DaysSince)},()=>{t(e)})}getTeams(t,e){for(var i=e||(t=>this.dateLimit(t,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())),a=[],s={},n=new Map,r=this.data.length-1;0<=r;r--){var o,l=this.data[r];i(l)&&(o={Team:l.Team,Team_name:l.Team_name,Team_preffered_name:l.Team_preffered_name,Team_logo_id:l.Team_logo_id,Team_Conference:l.Team_Conference,Team_Division:l.Team_Division,Team_Conference_Division:l.Team_Conference_Division,Team_Arrest_Count:1},n.has(l.Team)?(n.set(o.Team,n.get(o.Team)+1),s[l.Team].Team_Arrest_Count++):(n.set(l.Team,1),l.Team,s[l.Team]=o))}for(var d=Object.keys(s).length-1;0<=d;d--){var h=s[Object.keys(s)[d]];a.push(h)}a.sort(function(t,e){return t.Team_Arrest_Count>e.Team_Arrest_Count?-1:t.Team_Arrest_Count<e.Team_Arrest_Count?1:0}),t(a)}getArrestMeter(t){var i=0,a=-1,s=0,n=9e9;this.forEach((t,e)=>{s++,i+=t.DaysToLastArrest,t.DaysToLastArrest>a&&(a=t.DaysToLastArrest),t.DaysSince<n&&(n=t.DaysSince)}),i/=s,t({alltime:{record:Math.floor(a),average:Math.floor(i),raw_average:Math.floor(i)},current:{daysSince:Math.floor(n),probability:Math.exp(-1*n)/i,odds:Math.floor(1/Math.exp(-1*n/i))}})}getDistinctColumnValues(t,e){for(var i=e||(t=>this.dateLimit(t,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())),e=(t=t||[])[0]||t||{},a=e.column_name||e||"null",s=e.column_display_name||a,n={},r={},o=this.data.length-1;0<=o;o--){var l=this.data[o];i(l)&&(r=this.incrementMap(r,l[a]),n[l[a]]=l[s])}var d=[];return Object.keys(r).forEach(t=>{var e={};e.column=a,e.column_value=t,e.column_display_value=n[t],e.record_count=r[t],d.push(e)}),d}getDonutChart(i,t,e){for(var a={},s=this.data.length-1;0<=s;s--){var n=this.data[s];t(n)&&this.dateLimit(n,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())&&(a=this.incrementMap(a,n[i]))}var r=[];Object.keys(a).forEach(t=>{var e={};e[i]=t,e.arrest_count=a[t],r.push(e)}),e(r.sort(function(t,e){return e.arrest_count-t.arrest_count}))}getOverallChart(t,e,i,a,s){for(var n={Year:"Year",Month:"Month",Day:"Day_of_Week",DayOrder:"Day_of_Week_int",YearToDate:"YearToDateStatus",Team:"Team_preffered_name","Team Code":"Team",Conference:"Team_Conference",Division:"Team_Conference_Division",Position:"Position",Crime:"Crime_category",Season:"Season",SeasonState:"ArrestSeasonState",Measure:"arrest_count"},r=n[e],o=n[t],l=n[i],e=a,d={},h={},c={},m={},p=this.data.length-1;0<=p;p--){var u=this.data[p];this.dateLimit(u,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())&&(d=this.incrementMap(d,u[r]+u[o]),h=this.incrementMap(h,u[r]),c=this.incrementMap(c,u[o]),m[u[r]]=u[l])}var g=[],_=(Object.keys(h).forEach(t=>{var e={bar:t,arrest_count:h[t]};e[l]=m[t],g.push(e)}),"DESC"==e&&l==r?g.sort(function(t,e){return e.arrest_count-t.arrest_count}):"ASC"==e&&"Day_of_Week_int"==l?g.sort((t,e)=>t[l]-e[l]):"3YearToDateStatus"==o&&g.sort((t,e)=>"Year To Date"==t?1:-1),[]),f=(Object.keys(c).forEach(t=>{_.push(t)}),_=_.sort((t,e)=>"YearToDateStatus"==o?"Year To Date"==t?1:-1:c[e]-c[t]),["x"]),y=(g.forEach(t=>{f.push(t.bar)}),[]);y.push(f),Object.keys(_).forEach(t=>{var e=_[t],i=[e];g.forEach(t=>{t=t.bar,t=d[t+e];i.push(t=null==t?0:t)}),y.push(i)}),s({columns:y,groups:_})}getTopLists(t,e,i,a){for(var s=[],n={},r={},o={},l={},d=[],h=[],c=[],m=this.data.length-1;0<=m;m--){var p=this.data[m];this.dateLimit(p,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())&&(n=this.incrementMap(n,p.Crime_category),r=this.incrementMap(r,p.Name),o=this.incrementMap(o,p.Position),l[p.Position]=p.Position_name)}Object.keys(n).forEach(t=>{var e={};e.Crime_category=t,e.arrest_count=n[t],d.push(e)}),Object.keys(r).forEach(t=>{var e={};e.Name=t,e.arrest_count=r[t],h.push(e)}),Object.keys(o).forEach(t=>{var e={};e.Position=t,e.Position_name=l[t],e.arrest_count=o[t],c.push(e)});function u(t,e){return e.arrest_count-t.arrest_count}s.push(d.sort(u).slice(t,t+5)),s.push(h.sort(u).slice(t,t+5)),s.push(c.sort(u).slice(t,t+5)),a(s)}getFilteredDataCount(t,e){var i=e||(t=>this.dateLimit(t,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())),a=[];this.forEach(t=>{i(t)&&a.push(t)},()=>{t(a.length)})}getArrests(e,t){var i=[];this.forEach(t=>{this.dateLimit(t,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())&&e(t)&&i.push(t)},()=>{t(i)})}getActivePlayerArrests(t){t(["no data"])}}class Utilities{constructor(){this.googleTracking=new GoogleAnalyticsManager}gaEvent(t,e,i,a,s){this.googleTracking.sendTrackEvent(i,a)}setCookieValue(t,e,i){var a=new Date,i=(i=i||.5,a.setTime(a.getTime()+24*i*60*60*1e3),"expires="+a.toUTCString());document.cookie=t+"="+e+"; "+i}getCookieValue(t){for(var e=t+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var s=i[a];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return""}setupFacebook(){var t,e,i;window.fbAsyncInit=function(){FB.init({appId:"563956043742586",xfbml:!0,version:"v2.4"}),FB.Event.subscribe("edge.create",function(t){this.googleTracking.sendTrackEvent("facebook","like")}),FB.Event.subscribe("edge.remove",function(t){this.googleTracking.sendTrackEvent("facebook","unlike")}),FB.Event.subscribe("message.send",function(t){this.googleTracking.sendTrackEvent("facebook","send")})},t=document,e="facebook-jssdk",i=t.getElementsByTagName("script")[0],t.getElementById(e)||((t=t.createElement("script")).id=e,t.src="//connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(t,i))}setupTwitter(){var t,e,i,a,s=this;window.twttr=(t=document,e="twitter-wjs",i=t.getElementsByTagName("script")[0],a=window.twttr||{},t.getElementById(e)||((t=t.createElement("script")).id=e,t.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(t,i),a._e=[],a.ready=function(t){a._e.push(t)}),a),twttr.ready(function(t){t.events.bind("tweet",function(t){t&&(window.location.href,t.target&&"IFRAME"==t.target.nodeName&&s.extractParamFromUri(t.target.src,"url"),this.googleTracking.sendTrackEvent("twitter","tweet"))})})}mobileCheck(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:e}mobileAndTabletCheck(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:e}extractParamFromUri(t,e){return t&&null!=(e=new RegExp("[\\?&#]"+e+"=([^&#]*)").exec(t))?decodeURI(unescape(e[1])):null}saveCanvasAsPNG(t){t=document.getElementById(t).toDataURL("image/png").replace("image/png","image/octet-stream");window.location.href=t}update_hash(t){t=t||!1;var e=window.location.pathname.split("/"),e=window.location.hash||this.extractParamFromUri(window.location.search,"id")||e.pop()||e.pop()||"#!ID Not Set";return t!==(e=(e=(e=decodeURI(e)).replace("#!","")).replace("#",""))&&$("#pageTitle").append(e),e}SetHash(t){window.location.hash=t}}class GoogleAnalyticsManager{constructor(){this.hashervar=window.location.hash||"",this.pagePath=window.location.pathname+this.hashervar,this.loadScript(),ga("create","UA-66360026-1","auto"),this.ping()}loadScript(){var t,e,i;t=window,i=document,e="ga",t.GoogleAnalyticsObject=e,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=+new Date,e=i.createElement("script"),i=i.getElementsByTagName("script")[0],e.async=1,e.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(e,i)}ping(){ga("send","pageview",this.pagePath)}sendTrackEvent(t,e){arguments.length<3&&ga("send","event",t,e)}}var IndexPageInstance,DEBUG=!1;class WebPage{constructor(t,e){this.Utilities=new Utilities,this.StyleManager=new StyleSheetManager,this.LoadingBar=new LoadingBarManager,this.pageTitle=t||"Default",this.option_HideLoadingBar=!0===e,this.arrest_view_mode=0,this.Utilities.mobileCheck()&&(this.arrest_view_mode=1,moment.locale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"a few secs",ss:"%d secs",m:"a min",mm:"%d mins",h:"an hr",hh:"%d hrs",d:"a day",dd:"%d day",w:"a wk",ww:"%d wks",M:"a mth",MM:"%d mths",y:"a yr",yy:"%d yrs"}})),this.option_HideLoadingBar&&this.LoadingBar.hideLoading(),this.charts=[],this.Modules_HashMap={},this.RenderUpdateDate()}renderView(){this.renderModules()}RenderUpdateDate(){var t=lastUpdate.split(",")[0];$("#updateDateFooter").html("Updated: "+t+' <a href="BuildHistory.html">v'+lastVersion+"</a>")}checkLoadingFinished(){console.warn("Default WebPage.js checkLoadingFinished() function called, should be overriden within a subclass"),this.loadingFinished()}loadingFinished(){this.LoadingBar.hideLoading(),this.Utilities.setupFacebook(),this.Utilities.setupTwitter()}getModuleCount(){return Object.keys(this.Modules_HashMap).length}getModules(){return this.Modules_HashMap}getModule(t){return this.Modules_HashMap.hasOwnProperty(t)?this.Modules_HashMap[t]:(console.error("No Module with the moduleID: "+t),!1)}setModules(t){Object.isObject(mObj)?this.Modules_HashMap=mObj:console.warn('WebPage.setModules(mObj): Expected Parameter(mObj) to be of type Object that should be formatted as a HashMap eg: [{"Key": ModuleInstance, "Key2": ModuleInstance2}].')}addModule(t,e){return e=e||"Module_"+t.getModuleID()+"_"+this.getModuleCount(),this.Modules_HashMap[e]=t,e}removeModule(t){this.Modules_HashMap[t]?delete this.Modules_HashMap[t]:console.warn("No such module found",t)}renderModules(){if(0<this.getModuleCount())for(var t=Object.keys(this.Modules_HashMap),e=0;e<t.length;e++)this.Modules_HashMap[t[e]].renderView()}getHTMLDateTitleAttribute(t,e){return void 0!==t?t.hasOwnProperty(e=e||"Date")?'title="'+t[e].split("T")[0]+'"':(console.error("WebPage > getHTMLDateTitleAttribute: Row did not contain ["+e+"]."),""):""}getDetailPageLink(t,e){return t.charAt(0).toUpperCase()+t.slice(1)+".html#"+e}getCrimeLink(t){return this.getDetailPageLink("CrimeCategory",t)}getCrimeSubCategoryLink(t){return this.getDetailPageLink("Crime",t)}getPlayerLink(t){return this.getDetailPageLink("Player",t)}getTeamLink(t){return this.getDetailPageLink("Team",t)}getPositionLink(t){return this.getDetailPageLink("Position",t)}displayDialogBox(t,e,i,a){t=t||"error-dialog",e=e||"Error! No Message found.",i=i||"Error",a=a||{modal:!0};0===$("#"+t).length&&$("body").append('<div id="'+t+'" title="'+i+'">'+e+"</div>"),$("#"+t).dialog(a),this.Utilities.googleTracking.sendTrackEvent("PageDialogOpen",i)}}class Chart{constructor(t,e,i){this.chart=void 0,this.parent=i,this.options={targetElement:"#theElementSelector",chartTitle:"default",data:{}},this.defaultColorPattern=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF","#154F78","#B0580A","#248224","#7D1717"],$.extend(!0,this.options,t),this.chartType=e||"donut",this.options.$targetElement=$(this.options.targetElement),this.renderChart()}renderChart(){console.warn("WARNING: Using default render chart");var t={bindto:this.options.targetElement,data:{columns:this.options.data,type:this.chartType},color:{pattern:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF","#154F78","#B0580A","#248224","#7D1717"]}};"donut"==this.chartType&&(t.donut={title:this.options.chartTitle}),this.chart=c3.generate(t)}}class IndexPage extends DataDrivenWebPage{constructor(){super("Index"),this.StyleManager.loadCSS("css/modules/styles-indexpage.css"),this.StyleManager.loadCSS("css/vendor/pagination.css"),this.MeterOrRecent=.5<Math.random(),this.detail_page_active=!0;var t={targetElement:"arrest_table",TitlePrefix:"Latest ",RowLimit:5,GoogleTrackingCategory:"IndexPageArrests",columns:[DATA_MODEL_DISPLAY_COLUMNS.getColumn("Date",2),DATA_MODEL_DISPLAY_COLUMNS.getColumn("Name",2),DATA_MODEL_DISPLAY_COLUMNS.getColumn("Crime_category",2),DATA_MODEL_DISPLAY_COLUMNS.getColumn("Team",1),DATA_MODEL_DISPLAY_COLUMNS.getColumn("Description",5)],RenderCardFn:t=>{t=new ArrestCard(this,t);return t.getHTML(t.Dimension_Crime_Category,t.Dimension_Team,t.Dimension_Player)}};this.DataTable_ModuleID=this.addModule(new DataTable(this,[],t)),this.MainChart=new MainChart(this),this.TopLists=new TopLists(this),this.evaluateHash(),this.TopLists.fixTopListLinks(),$("#loadMoreLists").click(this.TopLists.jQuery_Handler),this.detail_page_active?this.data_controller.getTeams(t=>{this.RenderTeamLinks(t)}):$("#bottomTeamLinks").hide()}renderView(){super.renderView(),this.MainChart.setupChart(),this.TopLists.reload(),this.data_controller.getTeams(t=>{this.RenderTeamLinks(t)})}evaluateHash(){window.location.hash?"#ByYear"==window.location.hash?this.MainChart.setStyleID(1):"#BySeason"==window.location.hash?this.MainChart.setStyleID(2):"#ByDayOfWeek"==window.location.hash?this.MainChart.setStyleID(3):"#ByDivision"==window.location.hash?this.MainChart.setStyleID(4):this.MainChart.setStyleID(0):this.MainChart.setStyleID(0)}checkLoadingFinished(){void 0!==this.MainChart&&void 0!==this.TopLists&&this.MainChart.getReturnStatus()&&this.TopLists.getReturnStatus()&&(this.TopLists.setReturnStatus(!1),this.MainChart.setReturnStatus(!1),this.setupArrestOMeter(this.MeterOrRecent),this.setupRecentArrestCard(!this.MeterOrRecent),this.loadingFinished())}RenderTeamLinks(t){$("#bottomTeamLinks").html("<h4>Teams</h4>"),$("#bottomTeamLinks").append('<div id="bottomTeamLinksNFC" class="row"><div id="division_NFC_West" class="three columns"><h5>NFC West</h5></div><div id="division_NFC_North" class="three columns"><h5>NFC North</h5></div><div id="division_NFC_South" class="three columns"><h5>NFC South</h5></div><div id="division_NFC_East" class="three columns"><h5>NFC East</h5></div></div>'),$("#bottomTeamLinks").append('<div id="bottomTeamLinksAFC" class="row"><div id="division_AFC_West" class="three columns"><h5>AFC West</h5></div><div id="division_AFC_North" class="three columns"><h5>AFC North</h5></div><div id="division_AFC_South" class="three columns"><h5>AFC South</h5></div><div id="division_AFC_East" class="three columns"><h5>AFC East</h5></div></div>'),$.each(t,(t,e)=>{var i=e.Team,i="team".charAt(0).toUpperCase()+"team".slice(1)+".html#"+i,a="#division_"+e.Team_Conference+"_"+e.Team_Division,s=e.Team_preffered_name;1==this.arrest_view_mode&&(s=e.Team+" "+e.Team_name),$(a).append('<a href="'+i+"\"><span style=\"display:inline-block;width:20px;height:20px;vertical-align: text-bottom;background:url('images/NFLTeamLogos.png') 0px -"+20*e.Team_logo_id+'px;background-size:100%;"></span> '+s+" <b>"+e.Team_Arrest_Count+"</b></a> ")})}setupArrestOMeter(s){this.data_controller.getArrestMeter(function(t){var e=t.current.daysSince,i=t.alltime.record,t=t.alltime.average,a=parseInt(e)/i;$("#arrest_meter_text").html("It has been <b>"+e+"</b> Days since the last arrest.</p>"),$("#arrest_meter_subtext").html("Average: <b>"+t+"</b> Days | Record W/O arrest: <b>"+i+"</b> Days"),$(".recordHolder").html(i),$(".avgRecord").html(t).css({left:parseInt(t)/parseInt(i)*100+"%"}),$(".meter-fg").animate({width:100*a+"%"},1750),s?ga("set","dimension1","Recent"):$("#arrest-meter").hide()})}setupRecentArrestCard(t){this.data_controller.getMostRecentArrest(t=>{void 0!==t&&(t=new ArrestCard(this,t,{standalone:!0}),$("#mostRecentArrestCard").html(t.getHTML(t.Dimension_Crime_Category,t.Dimension_Team,t.Dimension_Player)))}),t?ga("set","dimension1","ArrestOMeter"):$("#recent-arrest-card").hide()}}$(window).load(function(){IndexPageInstance=new IndexPage});class TopLists{constructor(t){this.parent=t,this.last_start_pos=0,this.ReturnStatus=!1,this.load_lists("first")}jQuery_Handler(t){IndexPageInstance.TopLists.load_lists("not first",!1)}load_list(t,n,r,e,o,i){(i=i||!1)&&(this.last_start_pos=0);var l=[];0<t.length?$.each(t,(t,e)=>{var i='<a href="'+this.parent.getDetailPageLink(n,e[o[0]])+'">',a="</a>",s=(""!=n&&this.parent.detail_page_active||(a=i=""),e[o[0]]);2<o.length&&(s=e[o[2]]),l.push("<li id='"+r+t+"'>"+i+"<span>"+s+"</span><span class='value-cell'>"+e[o[1]]+"</span>"+a+"</li>")}):i&&l.push('<li class="list-no-data-msg-item">No Data Available for this Date Range</li>'),i?$(e).html(l.join("")):$(e).append(l.join(""))}load_lists(t,a){t=t||"not first",a=a||!1,$(".list-no-data-msg-item").remove(),"first"!=t&&this.parent.Utilities.googleTracking.sendTrackEvent("TopLists","Load Next Page"),this.parent.data_controller.getTopLists(this.last_start_pos,this.parent.DateRangeControl.getStart(),this.parent.DateRangeControl.getEnd(),t=>{var e=t[0],i=t[1],t=t[2];e.length+i.length+t.length<=0&&0==this.last_start_pos&&console.warn("no data returned"),this.load_list(e,"CrimeCategory","top_crime_","#top_crimes_list",["Crime_category","arrest_count"],a),this.load_list(i,"player","top_player_","#top_players_list",["Name","arrest_count"],a),this.load_list(t,"position","top_pos_","#top_positions_list",["Position","arrest_count","Position_name"],a),this.setReturnStatus(!0),this.last_start_pos=this.last_start_pos+5,this.parent.checkLoadingFinished()})}reload(){this.last_start_pos=0,this.load_lists("not first",!0)}fixTopListLinks(){this.parent.detail_page_active&&$(".top-list ol li").click(function(){return window.location=$(this).find("a").attr("href"),!1})}getReturnStatus(){return this.ReturnStatus}setReturnStatus(t){this.ReturnStatus=t}}class MainChart{constructor(t){this.parent=t,this.ReturnStatus=!1,this.ytdChart=!1,this.StyleID=0,this.buttons=[{title:"By Team",short_title:"ByTeam",id:0,ytdChart:!1,element:"#mainChartByTeamBtn"},{title:"By Year",short_title:"ByYear",id:1,ytdChart:!0,element:"#mainChartByYearBtn"},{title:"By Season",short_title:"BySeason",id:2,ytdChart:!1,element:"#mainChartBySeasonBtn"},{title:"By Day",short_title:"ByDayOfWeek",id:3,ytdChart:!1,element:"#mainChartByConfBtn"},{title:"By Division",short_title:"ByDivision",id:4,ytdChart:!1,element:"#mainChartByConfDivBtn"}],this.addChartButtonListeners(),this.changeTopChart()}setMainChartHandler(t){IndexPageInstance.MainChart.setMainChart(t.data.btn)}setMainChart(t){this.ytdChart=t.ytdChart,this.StyleID=t.id,this.parent.Utilities.SetHash(t.short_title),this.changeTopChart(),this.parent.Utilities.googleTracking.sendTrackEvent("mainChart","switchTo"+t.short_title)}addChartButtonListeners(){for(var t=0;t<this.buttons.length;t++)$(this.buttons[t].element).click({btnID:t,btn:this.buttons[t]},this.setMainChartHandler)}changeTopChart(){this.setupChart(),this.changeChartButtonStyle()}changeChartButtonStyle(){1==this.StyleID?($(".mainChartBtn").removeClass("button-primary"),$("#mainChartByYearBtn").addClass("button-primary")):0==this.StyleID?($(".mainChartBtn").removeClass("button-primary"),$("#mainChartByTeamBtn").addClass("button-primary")):2==this.StyleID?($(".mainChartBtn").removeClass("button-primary"),$("#mainChartBySeasonBtn").addClass("button-primary")):3==this.StyleID?($(".mainChartBtn").removeClass("button-primary"),$("#mainChartByConfBtn").addClass("button-primary")):4==this.StyleID&&($(".mainChartBtn").removeClass("button-primary"),$("#mainChartByConfDivBtn").addClass("button-primary"))}destroyChart(){0<this.parent.charts.length&&void 0!==this.parent.charts[0]&&this.parent.charts[0].hasOwnProperty("stackedChart")&&void 0!==this.parent.charts[0].stackedChart&&this.parent.charts[0].stackedChart.destroy()}setupChart(){this.destroyChart();this.getOverallChartData(t=>{t={data:t,targetElement:"#chart",targetExpandBtn:"#details_summary_btn",hideBtn:"#hideAll_btn",showBtn:"#showAll_btn"};this.parent.charts[0]=new StackedBarChart(t,this),this.setReturnStatus(!0),this.parent.checkLoadingFinished()})}getOverallChartData(t){0==this.StyleID?this.parent.data_controller.getOverallChart("Crime","Team Code","Team Code","DESC",t):1==this.StyleID?this.parent.data_controller.getOverallChart("YearToDate","Year","Year","ASC",t):3==this.StyleID?this.parent.data_controller.getOverallChart("Crime","Day","DayOrder","ASC",t):2==this.StyleID?this.parent.data_controller.getOverallChart("SeasonState","Season","Season","ASC",t):4==this.StyleID&&this.parent.data_controller.getOverallChart("Crime","Division","Division","ASC",t)}setYTD(t){this.ytdChart=t}getYTD(){return this.ytdChart}setStyleID(t){this.StyleID=t,this.changeTopChart()}getStyleID(){return this.StyleID}setReturnStatus(t){this.ReturnStatus=t}getReturnStatus(){return this.ReturnStatus}}class StackedBarChart extends Chart{constructor(t,e){super(t,"bar",e),this.isFirstHover=!0,this.options.$targetElement=$(this.options.targetElement),this.renderChart()}getBottomPadding(){return $(document).width()<800?20:6}renderCustomLegend(){$(".customLegend").remove(),d3.select(".chart-container").insert("div",".chart-options").attr("class","customLegend").selectAll("span").data(this.options.data.groups).enter().append("span").attr("data-id",function(t){return t}).attr("class",function(t){return"customLegend-item customLegend-item-"+t.replace("/","").split(" ").join("")}).html(function(t){return'<span class="customLegend-item-color" style="background-color:'+this.chart.color(t)+';"></span> '+t}).on("mouseover",function(t){this.chart.focus(t),this.isFirstHover&&(this.isFirstHover=!1,this.parent.Utilities.googleTracking.sendTrackEvent("mainChart","legendMouseover"))}).on("mouseout",function(t){this.chart.revert()}).on("click",t=>{this.chart.toggle(t);t=(t=t.replace("/","")).split(" ").join(""),t=d3.select(".customLegend-item-"+t);t.classed("transparent",!t.classed("transparent")),this.parent.Utilities.googleTracking.sendTrackEvent("mainChart","legendClick")})}renderChart(){var t=this.getBottomPadding(),t={bindto:this.options.targetElement,data:{empty:{label:{text:"No Data Available for this Date Range"}},x:"x",columns:this.options.data.columns,groups:[this.options.data.groups],order:"asc",type:"bar",onclick:(t,e)=>{void 0!==this.parent.MainChart.StyleID&&0==this.parent.MainChart.StyleID&&this.parent.detail_page_active&&(this.parent.Utilities.googleTracking.sendTrackEvent("mainChart","teamLink"),setTimeout(()=>{window.location.href="Team.html#"+this.options.data.columns[0][t.index+1]},100))}},zoom:{enabled:this.options.zoomEnabled},padding:{bottom:t},legend:{show:!this.options.customLegend},axis:{x:{type:"category"}},tooltip:{contents:function(t,e,i,a){var s,n,r,o,l,d=this.config,h=d.tooltip_format_title||e,c=d.tooltip_format_name||function(t){return t};for(t=t.sort(function(t,e){return t.value>=e.value?t.value==e.value?0:-1:1}),n=0;n<t.length;n++)if(t[n]&&(t[n].value||0===t[n].value)&&"0"!=t[n].value&&0!=t[n].value){if(s||(r=h?h(t[n].x,t[n].index):t[n].x,s="<table class='"+this.CLASS.tooltip+"'>"+(r||0===r?"<tr><th colspan='2'>"+r+"</th></tr>":"")),void 0!==(r=i(t[n].value,t[n].ratio,t[n].id,t[n].index,t))){if(null===t[n].name)continue;o=c(t[n].name,t[n].ratio,t[n].id,t[n].index),l=a(t[n].id)}void 0!==r&&(s=(s=s+("<tr class='"+this.CLASS.tooltipName+"-"+this.getTargetSelectorSuffix(t[n].id))+"'><td class='name'><span style='background-color:"+l+"'></span>"+o+"</td>")+"<td class='value'>"+r+"</td></tr>")}return s+"</table>"}},color:{pattern:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF","#154F78","#B0580A","#248224","#7D1717"]}};this.chart=c3.generate(t),this.options.customLegend&&this.renderCustomLegend()}}class DateRangeControl{constructor(t){this.start_date="2000-01-01",this.end_date="",this.parent=t,this.setHash(),this.setupDateRangePicker(),this.setupDateRangePickerEvents()}setupDateRangePicker(t){var t=t||[{text:"Last 3 Months",dateStart:()=>moment().subtract("months",3),dateEnd:()=>moment()},{text:"Last 6 Months",dateStart:()=>moment().subtract("months",6),dateEnd:()=>moment()},{text:"Last Year",dateStart:()=>moment().subtract("years",1),dateEnd:()=>moment()},{text:"Last 5 Years",dateStart:()=>moment().subtract("years",5),dateEnd:()=>moment()},{text:"All Records",dateStart:()=>moment("2000-01-01"),dateEnd:()=>moment()}],e=this.parent.Utilities.mobileCheck()?1:2;$("#dateRangeJquery").daterangepicker({presetRanges:t,datepickerOptions:{minDate:new Date("2000-01-01"),maxDate:0,numberOfMonths:e}})}renderView(){this.setDefaultDate();var t={start:moment(this.start_date).toDate(),end:moment(this.end_date).toDate()};$("#dateRangeJquery").daterangepicker("setRange",t)}setupDateRangePickerEvents(){this.renderView(),$("#dateRangeJquery").on("change",()=>{this.changeDateRange(this)}),$("#dateRangeJquery").on("open",()=>this.parent.Utilities.googleTracking.sendTrackEvent("DateRange","OpenDialog"))}open(){$("#dateRangeJquery").daterangepicker("open")}close(){$("#dateRangeJquery").daterangepicker("close")}resetTime(t){this.parent.Utilities.googleTracking.sendTrackEvent("DateRange","Reset");var e=this.getToday();this.setDates("2000-01-01",e)}setDefaultDate(){var t=moment().format("YYYY-MM-DD");this.start_date=this.start_date||this.getCookie("start_date")||"2000-01-01",this.end_date=this.end_date||this.getCookie("end_date")||t}getToday(){var t=new Date,e=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate();return t.getFullYear()+"-"+e+"-"+i}getStart(){return this.start_date}getEnd(){return this.end_date}setHash(){}changeDateRange(t){var e,i=JSON.parse($("#dateRangeJquery").val()),a=i.start,i=i.end;new Date(a)>new Date(i)&&(e=a,a=i,i=e),t.setDates(a,i)}setDates(t,e){this.setCookie("start_date",t),this.setCookie("end_date",e),this.start_date=t,this.end_date=e,window.CustomEvent&&(new Event("dateRangeChanged"),$("#dateRangeJquery").trigger("dateRangeChanged"),this.parent.Utilities.googleTracking.sendTrackEvent("DateRange","DateChanged"))}setCookie(t,e,i){return this.parent.Utilities.setCookieValue(t,e,i)}getCookie(t){return this.parent.Utilities.getCookieValue(t)}}class StyleSheetManager{constructor(){this.stylesheets=["css/styles.min.css","css/vendor/normalize.min.css","css/vendor/select2.min.css","css/vendor/jquery.multi-select.css","css/vendor/skeleton.min.css","css/vendor/c3.css","css/vendor/jquery-ui.min.css","css/vendor/jquery.comiseo.daterangepicker.css"],this.loadStylesheets()}loadCSS(t){var e,i;return e=document,i=e.createElement("LINK"),e=e.getElementsByTagName("LINK")[0],i.href=t,i.rel="stylesheet",e.parentNode.insertBefore(i,e),!0}loadStylesheets(t){for(var e=t||this.stylesheets||[],i=!0,a=0;a<e.length;a++)i=this.loadCSS(e[a]);return i}}var StyleSheetManagerInstance=new StyleSheetManager;